<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox spacing="10" styleClass="today-view" xmlns="http://javafx.com/javafx/18" xmlns:fx="http://javafx.com/fxml/1" fx:controller="net.talaatharb.workday.ui.controllers.TodayViewController">
   <padding>
      <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
   </padding>
   
   <!-- Header with Title and Actions -->
   <HBox alignment="CENTER_LEFT" spacing="10">
      <children>
         <Label text="ðŸ“… Today" styleClass="view-title">
            <font>
               <Font name="System Bold" size="18.0" />
            </font>
         </Label>
         <Region HBox.hgrow="ALWAYS" />
         <Button fx:id="quickAddButton" text="+ Quick Add" onAction="#handleQuickAdd" styleClass="new-task-button" />
      </children>
   </HBox>
   
   <Separator />
   
   <!-- Scrollable content area -->
   <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="today-scroll-pane">
      <content>
         <VBox fx:id="contentContainer" spacing="20" styleClass="today-content">
            <padding>
               <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
            
            <!-- Empty state (initially visible, hidden when tasks loaded) -->
            <VBox fx:id="emptyStateContainer" alignment="CENTER" spacing="15" visible="true" managed="true" styleClass="empty-state-container">
               <padding>
                  <Insets bottom="50.0" left="20.0" right="20.0" top="50.0" />
               </padding>
               <children>
                  <Label text="âœ¨" styleClass="empty-state-icon">
                     <font>
                        <Font size="48.0" />
                     </font>
                  </Label>
                  <Label text="No tasks for today!" styleClass="empty-state-title">
                     <font>
                        <Font name="System Bold" size="18.0" />
                     </font>
                  </Label>
                  <Label text="Enjoy your free time or add a new task to get started" styleClass="empty-state-subtitle">
                     <font>
                        <Font size="13.0" />
                     </font>
                  </Label>
                  <Button fx:id="emptyStateQuickAddButton" text="+ Add Task" onAction="#handleQuickAdd" styleClass="empty-state-add-button">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
               </children>
            </VBox>
            
            <!-- Overdue section -->
            <VBox fx:id="overdueSection" spacing="10" visible="false" managed="false" styleClass="today-section">
               <children>
                  <HBox alignment="CENTER_LEFT" spacing="10" styleClass="section-header">
                     <children>
                        <Label fx:id="overdueSectionToggle" text="â–¼" styleClass="section-toggle" onMouseClicked="#handleToggleOverdueSection">
                           <font>
                              <Font size="14.0" />
                           </font>
                        </Label>
                        <Label text="âš ï¸ Overdue" styleClass="section-title">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        <Label fx:id="overdueCount" text="0" styleClass="section-count">
                           <font>
                              <Font name="System Bold" size="12.0" />
                           </font>
                        </Label>
                     </children>
                  </HBox>
                  <VBox fx:id="overdueTasksContainer" spacing="5" styleClass="tasks-container">
                     <padding>
                        <Insets left="30.0" />
                     </padding>
                  </VBox>
               </children>
            </VBox>
            
            <!-- Today section -->
            <VBox fx:id="todaySection" spacing="10" visible="false" managed="false" styleClass="today-section">
               <children>
                  <HBox alignment="CENTER_LEFT" spacing="10" styleClass="section-header">
                     <children>
                        <Label fx:id="todaySectionToggle" text="â–¼" styleClass="section-toggle" onMouseClicked="#handleToggleTodaySection">
                           <font>
                              <Font size="14.0" />
                           </font>
                        </Label>
                        <Label text="ðŸ“† Today" styleClass="section-title">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        <Label fx:id="todayCount" text="0" styleClass="section-count">
                           <font>
                              <Font name="System Bold" size="12.0" />
                           </font>
                        </Label>
                     </children>
                  </HBox>
                  <VBox fx:id="todayTasksContainer" spacing="15" styleClass="tasks-container">
                     <padding>
                        <Insets left="30.0" />
                     </padding>
                     <!-- Time blocks (Morning, Afternoon, Evening) will be added here dynamically -->
                  </VBox>
               </children>
            </VBox>
         </VBox>
      </content>
   </ScrollPane>
</VBox>
